<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>US Open Parlay Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f0f2f5;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    header {
      background-color: #002244;
      color: #fff;
      padding: 20px;
      text-align: center;
      border-radius: 10px;
      margin-bottom: 30px;
    }
    .summary {
      background: #fff;
      padding: 15px;
      border-left: 5px solid #007f5f;
      margin-bottom: 20px;
      font-weight: 600;
      font-size: 1.1em;
      border-radius: 5px;
    }
    .group {
      background: #fff;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 25px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .group h2 {
      margin-top: 0;
      color: #002244;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
    }
    .player {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    .player:last-child {
      border-bottom: none;
    }
    .player span {
      flex: 1;
      font-weight: 500;
    }
    .player input[type="number"] {
      width: 45px;
      padding: 3px;
      margin: 0 4px;
      text-align: center;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .highlight {
      background-color: #e6f9f0;
    }
    #groups {
      max-width: 900px;
      margin: 0 auto;
    }
    .controls {
      text-align: center;
      margin-bottom: 20px;
    }
    .controls button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      background-color: #007f5f;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    .controls button:hover {
      background-color: #005f47;
    }
  </style>
</head>
<body>
  <header>
    <h1>US Open Parlay Tracker â€“ Oakmont</h1>
    <p>Track your picks, round-by-round scores, and group leaders live.</p>
  </header>

  <div class="summary" id="summary">Tracking your picks...</div>
  <div class="controls">
    <button onclick="lockScoresPerRound()">Lock Each Round</button>
  </div>
  <div id="groups"></div>

  <script>
    const parScorePerRound = 70;
    const lockedRounds = {};

    const data = {
      A: ["Scottie Scheffler", "Rory Mcilroy", "Xander Schaufele", "Bryson Dechamebeu", "Jon Rahm"],
      B: ["Ludvig Aberg", "Tommy Fleetwood", "Brooks Koepka", "Colin Morikawa", "Joaquin Nieman"],
      C: ["Sepp Straka", "Viktor Hovland", "Patrick Cantlay", "Justin Thomas", "Hideki Matsuyama"],
      D: ["Ben Griffin", "Tyrell Hatton", "Russell Henley", "Jordan Spieth", "Shane Lowry"],
      E: ["Corey Conners", "Patrick Reed", "Matt Fitzpatrick", "Dustin Johnson", "Justin Rose"],
      F: ["Daniel Berger", "Aaron Rai", "Tony Finau", "Keegan Bradley", "Cameron Smith"],
      G: ["Si Woo Kim", "Harris English", "Robert Macintyre", "Sam Burns", "Jason Day"],
      H: ["J.J. Spaun", "Taylor Pendrith", "Maverick McNealy", "Sungjae Im", "Denny McCarthy"],
      I: ["Wyndham Clark", "J.T. Poston", "Min Woo Lee", "Nick Taylor", "Akshay Bhatia"],
      J: ["Adam Scott", "Davis Thompson", "Brian Harman", "Michael Kim", "Andrew Novak"]
    };

    const yourPicks = [
      "Scottie Scheffler", "Colin Morikawa", "Justin Thomas", "Shane Lowry", "Matt Fitzpatrick",
      "Aaron Rai", "Si Woo Kim", "Sungjae Im", "Min Woo Lee", "Brian Harman"
    ];

    const groupsContainer = document.getElementById("groups");

    for (const group in data) {
      const div = document.createElement("div");
      div.className = "group";
      div.innerHTML = `<h2>Group ${group}</h2>`;
      data[group].forEach(name => {
        const isPicked = yourPicks.includes(name);
        div.innerHTML += `
          <div class="player${isPicked ? ' highlight' : ''}">
            <span>${name}${isPicked ? ' (your pick)' : ''}</span>
            R1: <input type="number" class="score" data-name="${name}" data-round="1" value="0" />
            R2: <input type="number" class="score" data-name="${name}" data-round="2" value="0" />
            R3: <input type="number" class="score" data-name="${name}" data-round="3" value="0" />
            R4: <input type="number" class="score" data-name="${name}" data-round="4" value="0" />
            Total: <span id="total-${name.replace(/\s/g, '')}">E</span>
          </div>`;
      });
      groupsContainer.appendChild(div);
    }

    document.querySelectorAll(".score").forEach(input => {
      input.addEventListener("input", () => {
        updateScores();
      });
    });

    function updateScores() {
      // Prevent recalculating locked rounds
      for (const round in lockedRounds) {
        if (lockedRounds[round]) {
          document.querySelectorAll(`input[data-round='${round}']`).forEach(input => input.disabled = true);
        }
      }

      let successful = 0;

      for (const group in data) {
        let bestScore = Infinity;
        let winner = "";

        data[group].forEach(name => {
          const scores = Array.from(document.querySelectorAll(`input[data-name='${name}']`)).map(i => Number(i.value));
          const total = scores.reduce((a, b) => a + b, 0);
          const roundsPlayed = scores.filter(n => n > 0).length;
          const parTotal = parScorePerRound * roundsPlayed;
          const relative = total - parTotal;
          const display = relative === 0 ? 'E' : (relative > 0 ? '+' + relative : relative);

          document.getElementById(`total-${name.replace(/\s/g, '')}`).textContent = display;

          if (relative < bestScore) {
            bestScore = relative;
            winner = name;
          }
        });

        if (yourPicks.includes(winner)) successful++;
      }

      document.getElementById("summary").textContent = `${successful} of your 10 picks are currently leading their groups.`;
    }

    function lockScoresPerRound() {
      const roundToLock = prompt("Enter round number to lock (1-4):");
      if (!['1', '2', '3', '4'].includes(roundToLock)) {
        alert("Please enter a valid round number between 1 and 4.");
        return;
      }
      lockedRounds[roundToLock] = true;
      document.querySelectorAll(`input[data-round='${roundToLock}']`).forEach(input => input.disabled = true);
      alert(`Round ${roundToLock} is now locked.`);
    }
  </script>
</body>
</html>
